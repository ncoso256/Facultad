PA EQU 30h   ; strobe(pa)= 0
; strobe(pa) = 1 flanco ascendente
PB EQU 31h   ; pb = 'a'
ca EQU 32h   ; ca = xxxx xx01
cb EQU 33h   ; cb = 0000 0000

org 1000h
CHAR DB 'A'

ORG 3000H
; CONFIGURO CA
CONFPIO: MOV AL, 01H
OUT CA, AL

; CONFIGURO CB
MOV AL, 00H
OUT CB, AL
RET

ORG 3100H
STROBE0: IN AL, PA
AND AL, 0FDH ; 1111 1101
OUT PA, AL
RET

ORG 3200H
STROBE1: IN AL, PA
OR AL, 02H
OUT PA, AL
NOP
NOP
NOP
NOP
NOP
NOP
RET

ORG 2000h
CALL CONFPIO
MOV AL, CHAR
OUT PB, AL
CALL STROBE0
CALL STROBE1
INT 0
END
